<div class="flex w-screen h-screen">
  <div
    class="w-[18.2em] bg-[#1E2A4A]/60 backdrop-blur-md px-3 pt-10 pb-5 flex flex-col shadow-lg border-r border-white/10">
    <div class="text-[2.75rem] whitespace-nowrap text-center font-bold text-white tracking-wide">
      <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400">Game-Hub</span>
      <div class="border-b border-white/30 w-60 mt-5 mx-auto"></div>
    </div>

    <!-- Store -->
    <div class="menu-item text-[20px] mt-6 px-4 flex items-center gap-3"
         routerLink="/gamehub" [class.active]="isStoreActive">
      <i class="fa-solid fa-shopping-cart"></i>
      <a>Store</a>
    </div>

    <!-- Library -->
    <div class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/library" [class.active]="isLibraryActive">
      <i class="fa-solid fa-gamepad"></i>
      <a>Library</a>
    </div>

    <!-- Wishlist -->
    <div class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/wishlist" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
      <i class="fa-solid fa-heart"></i>
      <a>Wishlist</a>
    </div>

    <!-- Community -->
    <div class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/community" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
      <i class="fa-solid fa-earth"></i>
      <a>Community</a>
    </div>

    <div class="border-b border-white/20 w-60 mt-6 mx-auto"></div>

    <!-- Discounts -->
    <div class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/discounts" routerLinkActive="active">
      <i class="fa-solid fa-percent"></i>
      <a>Discounts</a>
    </div>

    <!--    TODO WALLET ADD FUNDS,..-->
    <div class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/wallet" routerLinkActive="active">
      <i class="fa-solid fa-wallet"></i>
      <a>Wallet</a>
    </div>


    <div *ngIf="friendRequestCount > 0"
         class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3
           cursor-pointer transition"
         routerLink="/gamehub/friend-requests" routerLinkActive="active">
      <i class="fa-solid fa-user-plus"></i>
      <a>Friend Requests

      </a>

      <span class="absolute top-0 right-7 -mt-1 -mr-1 bg-red-600 text-white text-xs font-bold
               rounded-full w-5 h-5 flex items-center justify-center">
    {{ friendRequestCount }}
  </span>
    </div>

    <!-- Friend Requests -->
    <div *ngIf="friendRequestCount === 0" class="menu-item text-[20px] mt-4 px-4 flex items-center gap-3"
         routerLink="/gamehub/friend-requests" routerLinkActive="active">
      <i class="fa-solid fa-user-plus"></i>
      <a>Friend Requests</a>
    </div>

    <div class="border-b border-white/20 w-60 mt-6 mx-auto"></div>

    <!-- Friends -->
    <div class="menu-item mt-auto text-[20px] px-4 flex items-center gap-3"
         routerLink="/gamehub/friends" routerLinkActive="active">
      <i class="fa-solid fa-users"></i>
      <a>Friends</a>
    </div>
  </div>


  <div class="grow min-h-screen">
    <div class="fixed top-0 left-[18.2em] right-2 z-10 bg-transparent backdrop-blur-sm pt-3 pb-2">
      <form class="flex justify-end items-center gap-4">
        <div *ngIf="!_isGameDetailsActive" class="relative w-1/4 me-4">
          <input
            type="text"
            id="search"
            class="block w-full pl-12 p-2.5 text-sm text-white bg-transparent rounded-lg placeholder-white border border-[#76849D]"
            placeholder="Search..."
            required
          />

          <div class="absolute left-0 top-0 h-full px-3 text-white flex items-center justify-center">
            <i class="fas fa-search"></i>
            <span class="sr-only">Search</span>
          </div>

        </div>

        <div class="flex items-center justify-center w-10 h-10">
          <i class="fa-solid fa-shopping-cart text-2xl cursor-pointer" (click)="goToCart()"></i>
        </div>
        <div class="flex items-center justify-center w-10 h-10">
          <i class="fa-solid fa-bell text-2xl cursor-pointer" (click)="showNotifications()"></i>

        </div>

        <img *ngIf="!userHasProfilePicture"
             src="../../../../../assets/profilePicture/default_profile_picture.svg"
             class="w-13 h-13 rounded-xl border-1 border-black object-cover"
             [ngStyle]="{'background-color': userResponse.profileColor}"
        />

        <img *ngIf="userHasProfilePicture"
             [src]="getProfilePicture(userResponse)"
             alt="not found"
             class="w-13 h-13 object-cover rounded-xl"
             width="1"
             height="1"
        />

        <span
          class="inline-block w-3 h-3 rounded-full"
          [ngClass]="{
            'bg-green-500': statusResponse.status === 'ONLINE',
            'bg-gray-400': statusResponse.status === 'OFFLINE',
            'bg-yellow-400': statusResponse.status === 'AWAY'
          }"
        ></span>

        <button id="dropdownAvatarNameButton" data-dropdown-toggle="dropdownAvatarName"
                class="flex items-center text-sm pe-1 font-medium text-gray-900 rounded-full hover:text-blue-600 dark:hover:text-blue-500 md:me-0 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:text-white"
                type="button">
          <span class="sr-only">Open user menu</span>
          {{ userResponse.username }}
          <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
               viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 4 4 4-4"/>
          </svg>
        </button>

        <!-- Dropdown menu -->
        <div id="dropdownAvatarName" #dropdownAvatarName
             class="z-10 hidden bg-white divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-gray-700 dark:divide-gray-600">
          <div class="px-4 py-3 text-sm text-gray-900 dark:text-white">
            <div class="truncate">{{ userResponse.firstName + " " + userResponse.lastName }}</div>
            <div class="font-medium ">{{ userResponse.email }}</div>
          </div>
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200"
              aria-labelledby="dropdownInformdropdownAvatarNameButtonationButton">
            <li>
              <a aria-current="page" (click)="closeDropdown()" routerLink="/gamehub/user/me"
                 class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Profile</a>
              <div class="hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white flex gap-1 px-4 py-3">
                Status:
                <select
                  class="appearance-none text-white bg-transparent hover:bg-gray-700/40 hover:text-white
                  transition duration-300 text-[13px] cursor-pointer w-full"
                  (change)="onStatusChange($event)"
                >
                  <option [value]="userResponse.status" selected class="bg-gray-800 text-white">
                    {{ userResponse.status }}
                  </option>
                  <option
                    *ngFor="let status of getAvailableStatuses()"
                    [value]="status"
                    class="bg-gray-800 text-white"
                  >
                    {{ status }}
                  </option>
                </select>

              </div>
            </li>
          </ul>
          <div class="py-2">
            <a (click)="logoutUser()" href="#"
               class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Sign
              out</a>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>
