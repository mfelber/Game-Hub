<div class="relative w-full items-center">
  <div class="h-48 w-full overflow-hidden">
    <img
      src="assets/images/profile-background-b5vedq7mz8mjvslu.jpg"
      alt="Game cover"
      class="w-full h-full object-cover rounded-t-2xl"
    />
  </div>
  <div class="absolute left-6 top-1/2 transform -translate-y-1/2 flex">
    <div>
      <img
        [src]="getProfilePicture(userResponse)"
        alt="Profile picture"
        class="w-40 h-40 rounded-2xl border-2 border-black object-cover"
      />
    </div>

    <div class="flex flex-col ">
      <div class="p-2">

        <div class="flex items-center gap-2">
          <p class="text-2xl font-semibold leading-tight ">{{ userResponse.username }}</p>
          <span class="text-sm text-[#3B82F6] font-medium">• Online</span>
        </div>

        <p class="text-sm text-gray-300 mx-0.5">Joined April 2024</p>
      </div>
      <div class="mt-auto flex flex-col mx-2">
        <div class="flex gap-2">
          <button class="bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 cursor-pointer text-center w-30 py-1.5 px-2 rounded-lg text-sm flex items-center justify-center gap-1 transition-colors duration-200">
            Edit <i class="fa-solid fa-pencil"></i>
          </button>
        </div>
      </div>
    </div>

  </div>

</div>

<div class="w-full h-[75px] bg-black/25 rounded-b-2xl flex items-center gap-4">
  <div class="w-35 text-center text-10px">
    <p class="text-sm font-semibold"> {{ userResponse.libraryCount }}</p>
    <p class="text-sm text-gray-300">Games owned</p></div>
  <div class="w-[2px] h-10 bg-white/40 rounded"></div>


  <div class="w-35 text-center text-10px">
    <p class="text-sm font-semibold"> {{ userResponse.wishlistCount }}</p>
    <p class="text-sm text-gray-300">Games in wishlist</p></div>
  <div class="w-[2px] h-10 bg-white/40 rounded"></div>

  <!--  TODO fetch from db count of friends-->
  <div class="w-20 text-center text-10px">
    <p class="text-sm font-semibold"> 350</p>
    <p class="text-sm text-gray-300">Friends</p></div>

</div>


<div class="w-full h-[69%] mt-5 flex flex-1 gap-5">

  <div class="w-1/5 h-full bg-black/25 rounded-2xl">
    <div class="justify-between flex p-4 ">
      <div class="flex items-center gap-2">
        <i class="fa-solid fa-gamepad text-[#3B82F6]"></i><span class="">Recentyly played</span>
      </div>
    </div>
    <hr class="w-full border-t-[2px] border-[#515151]">
    <div *ngIf="userResponse.playRecently?.length === 0"
         class="flex flex-col items-center justify-center text-center flex-1 p-4">
      <p class="text-lg font-semibold">Nothing played recently 🎮 </p>
    </div>
  </div>

  <div class="flex-1 flex flex-col gap-4">

    <div class="h-1/2 flex gap-4">
      <div class=" flex-none w-100 break-words bg-black/20 rounded-2xl flex-col flex">
        <div class="justify-between flex p-4 ">
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-user text-[#EE5C6B]"></i><span class="">About</span>
          </div>
          <div>
            <i class="fa-solid fa-ellipsis-vertical "></i>
          </div>
        </div>
        <hr class="w-full border-t-[2px] border-[#515151]">
        <div *ngIf="userResponse.bio?.length === 0"
             class="flex flex-col items-center justify-center text-center flex-1 p-4">
          <p class="text-lg font-semibold"> You haven't written anything about yourself yet ✍️</p>
        </div>
        <div>
          <p class="p-4">
            {{ userResponse.bio }}
          </p>
        </div>
      </div>
      <div class="w-full bg-black/20 rounded-2xl flex flex-col">
        <div class="justify-between flex p-4 ">
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-medal text-[#FACC15]"></i><span class="">Badges</span>
          </div>
        </div>
        <hr class="w-full border-t-[2px] border-[#515151]">
        <div *ngIf="userResponse.badges?.length === 0"
             class="flex flex-col items-center justify-center text-center flex-1 p-4">
          <p class="text-lg font-semibold">You haven't earned any badges yet 🏅</p>
        </div>
      </div>
      <div class="w-150 bg-black/20 rounded-2xl flex flex-col">
        <div class="justify-between flex p-4 ">
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-masks-theater text-[#FFA500]"></i><span class="">Favorite Genres</span>
          </div>
          <div>
            <i class="fa-solid fa-ellipsis-vertical "></i>
          </div>
        </div>
        <hr class="w-full border-t-[2px] border-[#515151]">
        <div *ngIf="userResponse.badges?.length === 0"
             class="flex flex-col items-center justify-center text-center flex-1 p-4">
          <p class="text-lg font-semibold">No badges earned 🏅</p>
        </div>
      </div>
    </div>

    <div class=" h-1/2 flex gap-4">
      <div class="w-3/2 bg-black/20 rounded-2xl  ">
        <div class="justify-between flex p-4 ">
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-heart text-[#FF0000]"></i><span class="">Favorite Games</span>
          </div>
        </div>
        <hr class="w-full border-t-[2px] border-[#515151]">

        <div *ngIf="userResponse.favoriteGames?.length === 0"
             class="flex flex-col items-center justify-center text-center flex-1 p-4">
          <p class="text-lg font-semibold">No favorite games ❤️</p>
        </div>
        <div *ngFor="let game of userResponse.favoriteGames">
          <p> {{ game.title }}</p>
        </div>
      </div>
      <div class="w-full bg-black/20 rounded-2xl flex flex-col">
        <div class="justify-between flex p-4 ">
          <div class="flex items-center gap-2">
            <i class="fa-solid fa-fire text-[#FB923C]"></i><span class="">Latest recommended Games</span>
          </div>
        </div>
        <hr class="w-full border-t-[2px] border-[#515151]">
        <div *ngIf="userResponse.recommendedGames?.length === 0"
             class="flex flex-col items-center justify-center text-center flex-1 p-4">
          <p class="text-lg font-semibold"> You haven't recommended any games🔥 </p>
        </div>
        <div *ngFor="let game of userResponse.recommendedGames">
          <p> {{ game.title }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
